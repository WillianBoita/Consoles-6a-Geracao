<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>6ª Geração de Consoles</title>
    <!-- Importando o Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <!-- Importando o estilo home -->
    <link rel="stylesheet" href="../styles/home.css">
    <!-- Importando a fonte personalizada -->
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Zalando+Sans+Expanded:ital,wght@0,200..900;1,200..900&display=swap');
    </style>
    <!-- Importando o JQuery--> 
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
  </head> 

  <body class="zalando-sans-expanded-font">
    <!-- Conteúdo do Header -->
    <header class="p-2 m-2 mb-0">
        <!-- Link para página inicial -->
        <h1><a class="text-decoration-none" href="./home.html">A 6ª Geração de Consoles</a></h1>
    </header>

    <!-- Conteúdo principal -->
    <main class="d-flex justify-content-between p-2">
      <!-- Seção principal do conteúdo -->
      <section class="d-flex flex-column section-color rounded-3 p-2 m-2 mt-0" style="max-width: 70%;">
        <h2>O que foi? O que representou?</h2>
        <p class="m-1 p-1 ms-0 ps-0">
            A 6ª geração de consoles de videogame, também chamada de era dos 128
            bits, foi um dos períodos mais importantes da história dos games. Ela
            marcou a transição para os gráficos totalmente 3D, popularizou o jogo
            online nos consoles e introduziu recursos multimídia que aproximaram os
            videogames de centros de entretenimento completos. Essa geração durou
            aproximadamente de 1998 a 2013, dependendo da região e do console.
        </p>

        <h2>Quem foram os protagonistas da geração?</h2>
        <p>Estão entre os participantes:</p>
        <ul class="d-flex flex-column justify-content-center list-unstyled">
            <!-- Links para os consoles -->
            <li class="main-text m-0 p-0">Playstation: <a class="text-decoration-none" id="psColor" href="./sony.html">Playstation 2</a></li>
            <li class="main-text m-0 p-0">Nintendo: <a class="text-decoration-none" id="nintendoColor" href="./nintendo.html">Nintendo GameCube</a></li>
            <li class="main-text m-0 p-0">Microsoft: <a class="text-decoration-none" id="xboxColor" href="./xbox.html">Microsoft Xbox</a></li>
            <li class="main-text m-0 p-0">Sega: <a class="text-decoration-none" id="segaColor" href="./sega.html">Sega Dreamcast</a></li>
        </ul>

        <section class="d-flex align-items-center justify-content-between m-2 ms-0" style="width: 80%; height: 300px;">
          <!-- Vídeo humorístico, com autoplay e mutado em looping -->
          <video id="video-box" class="h-100 w-75 object-fit-fill" autoplay muted loop>
            <source id="video" src="../assets/videos/followthetraincj.mp4" type="video/mp4">
          </video>

          <!-- Campo em que o código secreto inserido pelo usuário aparece -->
          <h3 class="d-flex justify-content-center align-items-end ms-5" id="secret-text"></h3>
        </section>
      </section>

      <!-- Conteúdo lateral -->
      <aside class="d-flex section-color rounded-3 p-2 m-2 mt-0">
        <!-- Importando imagens do console -->
        <figure class="d-flex justify-content-center align-items-center h-100">
          <img class="h-auto border border-dark rounded-3 w-100" src="../assets/images/9k2giodgxbm31.webp" alt="Consoles da geração">
        </figure>
      </aside>
    </main>

    <!-- Conteúdo do rodapé -->
    <footer class="w-100 p-2">
        <!-- Dados pessoais -->
        <h3>Desenvolvido por: Willian Kronhardt Boita</h3>
        <h4>Contato:</h4>
        <ul class="d-flex flex-column justify-content-center list-unstyled">
            <li class="d-flex">E-mail: <p class="m-0 ms-1">wkboita@gmail.com</p></li>
            <li class="d-flex">Matrícula: <p class="m-0 ms-1">20250020260</p></li>
            <li class="d-flex">Linkedin: <a class="text-decoration-none m-0 ms-1" target="_blank" href="https://www.linkedin.com/in/Willian-Kronhardt-Boita/">Willian Kronhardt Boita</a></li>
            <li class="d-flex">GitHub: <a class="text-decoration-none m-0 ms-1" target="_blank" href="https://github.com/WillianBoita">Willian Boita</a></li>
        </ul>
    </footer>

    <script>
      // Códigos secretos
      const codigoVideo = 'JUMPJET'; // Comando que spawna um avião no GTA San Andreas
      const codigoPS = 'PS2';
      const codigoXbox = 'XBOX';
      const codigoNintendo = 'NINTENDO';
      const codigoSega = 'SEGA';

      // Verificando se o vídeo/áudio ainda está tocando
      let tocando = false

      // Pegando o vídeo e o campo do código pelo DOM
      const video = $("#video")
      const videoBox = $("#video-box")
      const displayCodigo = $("#secret-text")
      const pagina = $(document)

      // Registrando inputs do teclado
      pagina.keydown( e => {
        e.preventDefault();

        if(tocando === true){
          return;
        }

        const tecla = e.key.toUpperCase()
        displayCodigo.text(displayCodigo.text() + tecla)

        if(displayCodigo.html() === codigoVideo){
          displayCodigo.css("color", "gold")
          video.attr("src", "../assets/videos/luanAviao.mp4")
          videoBox.prop("muted", false)
          videoBox.prop("loop", false)

          const playVideo = videoBox.get(0)
          playVideo.load()
          playVideo.play()

          tocando = true

          // Quando o vídeo acabar
          playVideo.onended = () => {
            displayCodigo.css("color", "white")
          // Altera para o gif original
          video.attr("src", "../assets/videos/followthetraincj.mp4")
          playVideo.load()
          playVideo.play()
          // Zera o input do código
          displayCodigo.text('')
          // Informa que o vídeo não está tocando
          tocando = false
          }
        }

        if(displayCodigo.html() === codigoPS){
          displayCodigo.css("color", "gold")
          // Toca o áudio do ps2
          const audio = new Audio("../assets/audio/PS2 Startup Screen - QuickSounds.com.mp3");
          audio.play();
          // Confirma que o áudio está tocando
          tocando = true

          // Quando o aúdio acabar
          audio.onended = () => {
            displayCodigo.css("color", "white")
            // Zera o input do código
            displayCodigo.text('')
            // Informa que o áudio não está tocando
            tocando = false
          }

        }

        // Se o código for Xbox
        if(displayCodigo.html() === codigoXbox){
          displayCodigo.css("color", "gold")
          // Toca o áudio do Xbox
          const audio = new Audio("../assets/audio/xbox-2001-startup.mp3");
          audio.play();
          // Confirma que o áudio está tocando
          tocando = true

          // Quando o aúdio acabar
          audio.onended = () => {
            displayCodigo.css("color", "white")
            // Zera o input do código
            displayCodigo.text('')
            // Informa que o áudio não está tocando
            tocando = false
          }

        }

        // Se o código for Nintendo
        if(displayCodigo.html() === codigoNintendo){
          displayCodigo.css("color", "gold")
          // Toca o áudio do Nintendo
          const audio = new Audio("../assets/audio/gamecube-startup.mp3");
          audio.play();
          // Confirma que o áudio está tocando
          tocando = true

          // Quando o aúdio acabar
          audio.onended = () => {
            displayCodigo.css("color", "white")
            // Zera o input do código
            displayCodigo.text('')
            // Informa que o áudio não está tocando
            tocando = false
          }

        }

        // Se o código for Dreamcast
        if(displayCodigo.html() === codigoSega){
          displayCodigo.css("color", "gold")
          // Toca o áudio do Dreamcast
          const audio = new Audio("../assets/audio/dreamcast_startup.mp3");
          audio.play();
          // Confirma que o áudio está tocando
          tocando = true

          // Quando o aúdio acabar
          audio.onended = () => {
            displayCodigo.css("color", "white")
            // Zera o input do código
            displayCodigo.text('')
            // Informa que o áudio não está tocando
            tocando = false
          }
        }

        // Se o código passar de 7 dígitos, zera
        if(displayCodigo.text().length - 2 >= 7){
          displayCodigo.text('')
        }
      })

    </script>
  </body>
</html>
